<!DOCTYPE html>
<html lang="he" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cisco Hybrid Mesh Firewall</title>
    <link rel="stylesheet" href="theme/cisco_theme.css" />
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      html, body { font-family: var(--fz-font-family-1, 'Cisco Sans', sans-serif) !important; }
      body {
        background-color: var(--fz-color-primary-7) !important;
        color: #f3f3f3;
        background-image: url('banner/network-bg.jpg');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
      }
      .cisco-btn-primary {
        font-family: var(--fz-btn-global-font-family);
        font-size: var(--fz-btn-global-font-size);
        font-weight: var(--fz-btn-global-weight);
        line-height: var(--fz-btn-global-line-height);
        letter-spacing: var(--fz-btn-global-letter-spacing);
        padding: var(--fz-btn-primary-padding);
        border-radius: var(--fz-btn-primary-border-radius);
        background: var(--fz-btn-primary-bg);
        color: var(--fz-btn-primary-color);
        border: var(--fz-btn-primary-border-color);
        transition: var(--fz-btn-global-animation-transition);
        cursor: pointer;
        outline: none;
        margin: 1rem 0;
      }
      .cisco-btn-primary:hover {
        background: var(--fz-btn-primary-hover-bg);
        color: var(--fz-btn-primary-hover-color);
      }
      .text-yellow-400 { color: var(--fz-color-primary-5) !important; }
      .progress-tooltip {
        position: absolute;
        left: 2.5rem;
        top: 50%;
        transform: translateY(-50%);
        background: var(--fz-color-neutral-0);
        color: var(--fz-color-primary-5);
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        font-size: 1rem;
        font-family: var(--fz-font-family-1, 'Cisco Sans', sans-serif);
        white-space: nowrap;
        z-index: 9999;
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.2s;
      }
      .progress-bar-item:hover .progress-tooltip {
        opacity: 1;
      }
      .section-bg-cisco {
        background-color: var(--fz-color-primary-7) !important;
        background-image: url('banner/network-bg.jpg');
        background-size: cover;
        background-position: center;
        position: relative;
        z-index: 0;
      }
      .section-content-cisco {
        position: relative;
        z-index: 2;
      }
      .section-content-cisco h2 {
        font-size: 40px !important;
        line-height: 1.2;
      }
      .section-content-cisco pre, .section-content-cisco ul, .section-content-cisco li {
        font-size: 24px !important;
        line-height: 1.5;
      }
    </style>
  </head>
  <body class="bg-[var(--fz-color-primary-7)]">
    <div id="root"></div>
    <script type="text/babel">
      const videoFiles = [
        "banner/Generated File June 26, 2025 - 12_13PM.mp4",
        "banner/Generated File June 26, 2025 - 12_08PM.mp4",
        "banner/Generated File June 26, 2025 - 11_51AM.mp4"
      ];

      const sections = [
        {
          title: 'A Day in the Life of Alex,\na Cloud Security Engineer',
          text: 'How Hybrid Mesh Firewall 2025\nPowered by AI saves the day',
          intro: true,
        },
        {
          title: 'Morning Chaos (Without Cisco)',
          text: "Alex, a seasoned security operator, logs into a maze of disconnected dashboards. Alert fatigue sets in—hundreds of low-fidelity notifications, conflicting firewall rules, and no unified visibility across hybrid clouds.",
          video: "banner/Generated File June 26, 2025 - 6_36PM.mp4",
        },
        {
          title: 'Morning Calm (With Cisco Hybrid Mesh Firewall + AI)',
          text: "Now with Cisco's AI-native Hybrid Mesh Firewall, Alex sees prioritized, context-rich alerts surfaced by AI across environments—cloud, on-prem, containers. One dashboard. One policy engine. No guesswork.",
        },
        {
          title: 'Incident Response (Without Cisco)',
          text: "Midday panic: a zero-day vulnerability surfaces. Alex has to manually trace impacted assets, cross-check rules across dozens of VPCs, and coordinate between SecOps and NetOps.",
        },
        {
          title: 'Incident Contained (With Cisco + AI-driven Automation)',
          text: "Cisco's AI instantly identifies affected workloads, deploys compensating policies using Secure Workload and Hypershield, and isolates traffic automatically—no human-in-the-loop required.",
        },
        {
          title: 'Afternoon Expansion (Without Cisco)',
          text: "The dev team spins up new cloud workloads. Alex dreads the manual policy authoring and error-prone rule replication across clouds.",
        },
        {
          title: 'Seamless Scaling (With Cisco + AI-Driven Provisioning)',
          text: "Cisco Hybrid Mesh Firewall uses AI to learn previous patterns and auto-generates policy templates. Firewalls scale with infrastructure—zero-touch, policy-consistent, and compliant.",
        },
        {
          title: 'End-of-Day Reflection (Without Cisco)',
          text: "Exhausted, uncertain, and reactive—Alex knows his team is stretched thin, always behind the threat curve.",
        },
        {
          title: 'End-of-Day Confidence (With Cisco)',
          text: "AI has handled the noise, prioritized what matters, protected the environment automatically, and surfaced insights—not alerts. Alex finishes early. Strategic planning replaces firefighting.",
        },
        {
          title: 'Let AI handle the complexity. See how Cisco Hybrid Mesh Firewall transforms your day. Schedule a demo now.',
          text: "Imagine your security team with time to think, plan, and breathe. Cisco Hybrid Mesh Firewall turns your environment into an AI-powered security fabric.",
          custom: true,
        },
      ];

      function ProgressBar({ count, activeIndex, highestSection, onJump, sectionTitles }) {
        const [hovered, setHovered] = React.useState(null);
        return (
          <div className="fixed left-2 top-1/2 -translate-y-1/2 z-40 flex flex-col gap-1 md:left-6 md:gap-3 md:z-50">
            {Array.from({ length: count }).map((_, idx) => (
              <div
                key={idx}
                className={`progress-bar-item relative w-1.5 h-6 rounded md:w-2 md:h-10 transition-all duration-300 cursor-pointer ${idx <= highestSection ? 'opacity-60 md:opacity-100 shadow-none md:shadow-lg' : 'opacity-20 md:opacity-30'}`}
                style={{ background: 'var(--fz-color-primary-5)' }}
                onClick={() => onJump(idx)}
                onMouseEnter={() => setHovered(idx)}
                onMouseLeave={() => setHovered(null)}
              >
                {hovered === idx && (
                  <span className="progress-tooltip hidden md:block">{sectionTitles[idx]}</span>
                )}
              </div>
            ))}
          </div>
        );
      }

      // Section component: מוסיף רקע עם תמונה ועדינות
      const Section = React.forwardRef(({ title, text, index, list, custom, intro, video }, ref) => {
        const [visible, setVisible] = React.useState(false);
        const [skew, setSkew] = React.useState(0);
        const localRef = React.useRef();
        const setRefs = el => {
          localRef.current = el;
          if (ref) ref(el);
        };

        React.useEffect(() => {
          const observer = new window.IntersectionObserver(
            ([entry]) => setVisible(entry.isIntersecting),
            { threshold: 0.3 }
          );
          if (localRef.current) observer.observe(localRef.current);
          return () => observer.disconnect();
        }, []);

        // אפקט זווית דינמית לפי גלילה
        React.useEffect(() => {
          const handleScroll = () => {
            if (!localRef.current) return;
            const rect = localRef.current.getBoundingClientRect();
            const windowHeight = window.innerHeight;
            const rel = Math.max(0, Math.min(1, 1 - Math.abs(rect.top + rect.height/2 - windowHeight/2) / (windowHeight/2)));
            const dynamicSkew = (index % 2 === 0 ? 1 : -1) * (rel * 18);
            setSkew(dynamicSkew);
          };
          window.addEventListener('scroll', handleScroll);
          handleScroll();
          return () => window.removeEventListener('scroll', handleScroll);
        }, []);

        const isEven = index % 2 === 1;
        const flexDirection = isEven ? 'md:flex-row-reverse' : 'md:flex-row';
        const textAlign = 'text-left md:text-left md:ml-12 md:mr-0';
        const videoSrc = typeof video !== 'undefined' ? video : videoFiles[index % videoFiles.length];

        // סקשן הקדמה בעיצוב מיוחד
        if (intro) {
          return (
            <section
              ref={setRefs}
              dir="ltr"
              className={`section-bg-cisco h-screen flex flex-col items-center justify-center px-6 md:px-24 transition-all duration-700 ${visible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-12'}`}
              style={{position:'relative', overflow:'hidden'}}>
              <div className="flex flex-col items-center justify-center w-full h-full">
                <div className="uppercase tracking-widest text-yellow-400 text-lg md:text-xl mb-6 font-semibold">SOFTWARE FIREWALLS</div>
                <pre className="text-[40px] md:text-[56px] font-bold leading-tight text-yellow-400 mb-8 text-center" style={{textShadow:'0 2px 16px #0008', background:'none', fontFamily:'inherit', whiteSpace:'pre-line'}}>{title}</pre>
                <pre className="text-2xl md:text-3xl text-white font-medium text-center mb-12" style={{textShadow:'0 2px 16px #0008', background:'none', fontFamily:'inherit', whiteSpace:'pre-line'}}>{text}</pre>
                <div className="flex flex-col items-center mt-8 animate-bounce">
                  <span className="text-white text-lg">Scroll to begin</span>
                  <svg width="32" height="32" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="12" fill="#fff2"/><path d="M12 8v8m0 0-3-3m3 3 3-3" stroke="#FFD600" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/></svg>
                </div>
              </div>
            </section>
          );
        }

        // סקשן אחרון בעיצוב מיוחד
        if (custom) {
          return (
            <section
              ref={setRefs}
              dir="ltr"
              className={`section-bg-cisco h-screen grid grid-cols-1 md:grid-cols-2 items-center justify-center px-6 md:px-24 gap-16 transition-all duration-700 ${visible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-12'}`}
              style={{position:'relative', overflow:'hidden'}}>
              {/* וידאו כרקע */}
              <video
                src="banner/853822-hd_1920_1080_25fps.mp4"
                autoPlay
                loop
                muted
                playsInline
                style={{
                  position: 'absolute',
                  top: 0,
                  left: 0,
                  width: '100%',
                  height: '100%',
                  objectFit: 'cover',
                  zIndex: 0,
                  opacity: 1,
                  pointerEvents: 'none',
                }}
              />
              {/* overlay כהה */}
              <div style={{position:'absolute',top:0,left:0,width:'100%',height:'100%',background:'rgba(0,0,0,0.8)',zIndex:1,pointerEvents:'none'}} />
              <div className="flex flex-col justify-center items-start md:items-end section-content-cisco z-10">
                <div>
                  <div className="text-[40px] md:text-[64px] font-bold leading-tight text-yellow-400 mb-16 text-left md:text-right">
                    Simplify with AI. Discover Cisco Hybrid Mesh Firewall in action – book your demo today.
                  </div>
                </div>
              </div>
              <div className="flex flex-col justify-center items-start bg-[rgba(0,0,0,0.35)] p-8 rounded-xl max-w-xl section-content-cisco z-10">
                <div className="text-white text-lg mb-4">
                  Imagine your security team with time to think, plan, and breathe. Cisco Hybrid Mesh Firewall turns your environment into an AI-powered security fabric.
                </div>
                <button className="cisco-btn-primary text-lg px-8 py-3 mx-auto block mt-6" style={{border:'2px solid var(--fz-color-primary-5)', background:'transparent', color:'var(--fz-color-primary-5)'}}>Schedule a demo</button>
              </div>
            </section>
          );
        }

        return (
          <section
            ref={setRefs}
            dir="ltr"
            className={`section-bg-cisco h-screen flex flex-col ${flexDirection} items-center justify-center px-6 md:px-24 transition-all duration-700 ${visible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-12'}`}
          >
            <div className={`section-content-cisco flex-1 mb-8 md:mb-0 ${textAlign}`}>
              <h2 className="text-4xl md:text-5xl font-bold mb-4 text-yellow-400 text-left">{title}</h2>
              {list ? (
                <ul className="list-disc text-lg md:text-2xl text-gray-300 max-w-xl text-left">
                  {list.map((item, i) => (
                    <li key={i}>{item}</li>
                  ))}
                </ul>
              ) : (
                <pre className="text-lg md:text-2xl text-gray-300 max-w-xl whitespace-pre-line text-left" style={{background:'none',fontFamily:'inherit'}}>{text}</pre>
              )}
            </div>
            <div className="section-content-cisco flex-1 flex justify-center">
              <div className={`rounded-xl shadow-lg max-h-[95vh] w-[98%] overflow-hidden flex justify-center items-center`}>
                <video
                  src={videoSrc}
                  autoPlay
                  loop
                  muted
                  playsInline
                  className={`object-cover w-full max-h-[95vh] transition-transform duration-700`}
                  style={{ borderRadius: '0.75rem', transform: `skewX(${skew}deg)` }}
                />
              </div>
            </div>
          </section>
        );
      });

      function StickyLogo() {
        return (
          <header className="sticky top-0 z-50 bg-[var(--fz-color-primary-7)] flex flex-col justify-center items-center py-4 shadow-md">
            <img src="banner/Cisco-logo.png" alt="Cisco Logo" className="h-10 w-auto mx-auto" />
            <div style={{fontSize: '14px'}} className="text-gray-200 mt-2 tracking-wide text-center">Every workload. Every connection. Every time</div>
          </header>
        );
      }

      function App() {
        const [activeIndex, setActiveIndex] = React.useState(0);
        const [highestSection, setHighestSection] = React.useState(0);
        const isScrolling = React.useRef(false);

        // גלילה עם עכבר
        React.useEffect(() => {
          const SCROLL_THRESHOLD = 15;
          const handleWheel = (e) => {
            e.preventDefault();
            if (isScrolling.current) return;
            if (Math.abs(e.deltaY) < SCROLL_THRESHOLD) return;
            isScrolling.current = true;
            setTimeout(() => { isScrolling.current = false; }, 600);

            if (e.deltaY > 0 && activeIndex < sections.length - 1) {
              setActiveIndex(idx => {
                const next = Math.min(idx + 1, sections.length - 1);
                setHighestSection(prev => Math.max(prev, next));
                return next;
              });
            } else if (e.deltaY < 0 && activeIndex > 0) {
              setActiveIndex(idx => Math.max(idx - 1, 0));
            }
          };
          window.addEventListener('wheel', handleWheel, { passive: false });

          // --- Touch events for mobile ---
          let touchStartY = null;
          let touchEndY = null;
          const handleTouchStart = (e) => {
            if (e.touches && e.touches.length > 0) {
              touchStartY = e.touches[0].clientY;
            }
          };
          const handleTouchMove = (e) => {
            if (e.touches && e.touches.length > 0) {
              touchEndY = e.touches[0].clientY;
            }
          };
          const handleTouchEnd = () => {
            if (touchStartY === null || touchEndY === null) return;
            const deltaY = touchStartY - touchEndY;
            const SWIPE_THRESHOLD = 50;
            if (Math.abs(deltaY) > SWIPE_THRESHOLD && !isScrolling.current) {
              isScrolling.current = true;
              setTimeout(() => { isScrolling.current = false; }, 600);
              if (deltaY > 0 && activeIndex < sections.length - 1) {
                setActiveIndex(idx => {
                  const next = Math.min(idx + 1, sections.length - 1);
                  setHighestSection(prev => Math.max(prev, next));
                  return next;
                });
              } else if (deltaY < 0 && activeIndex > 0) {
                setActiveIndex(idx => Math.max(idx - 1, 0));
              }
            }
            touchStartY = null;
            touchEndY = null;
          };
          window.addEventListener('touchstart', handleTouchStart, { passive: false });
          window.addEventListener('touchmove', handleTouchMove, { passive: false });
          window.addEventListener('touchend', handleTouchEnd, { passive: false });
          // --- End touch events ---

          return () => {
            window.removeEventListener('wheel', handleWheel);
            window.removeEventListener('touchstart', handleTouchStart);
            window.removeEventListener('touchmove', handleTouchMove);
            window.removeEventListener('touchend', handleTouchEnd);
          };
        }, [activeIndex]);

        // קפיצה מפס התקדמות
        const handleJump = idx => {
          setActiveIndex(idx);
          setHighestSection(prev => Math.max(prev, idx));
        };

        return (
          <div className="bg-[var(--fz-color-primary-7)] min-h-screen text-gray-100 font-sans relative overflow-hidden">
            <StickyLogo />
            <ProgressBar
              count={sections.length}
              activeIndex={activeIndex}
              highestSection={activeIndex}
              onJump={handleJump}
              sectionTitles={sections.map((s, i) => i === sections.length - 1 ? 'Simplify with AI.' : s.title)}
            />
            <main>
              <Section
                key={activeIndex}
                title={sections[activeIndex].title}
                text={sections[activeIndex].text}
                index={activeIndex}
                list={sections[activeIndex].list}
                custom={sections[activeIndex].custom}
                intro={sections[activeIndex].intro}
                video={sections[activeIndex].video}
              />
            </main>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
  </body>
</html> 